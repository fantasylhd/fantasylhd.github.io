<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>day35XML | fantasyblog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  <meta name="description" content="day35XML1.1 Web核心技术  xml – 配置文件.  tomcat – 服务器. Web应用服务器 , 支持Java编写Web程序.  Http协议详解内容 &#x2F;格式 .  Servlet – Java编写Web程序.Servlet 接口 .  ServletContext – 重要的类 ,描述当前Web项目.  Request &amp; Response – Request 客户端">
<meta property="og:type" content="article">
<meta property="og:title" content="day35XML">
<meta property="og:url" content="https://fantasylhd.github.io/2020/03/30/day35xml/index.html">
<meta property="og:site_name" content="fantasyblog">
<meta property="og:description" content="day35XML1.1 Web核心技术  xml – 配置文件.  tomcat – 服务器. Web应用服务器 , 支持Java编写Web程序.  Http协议详解内容 &#x2F;格式 .  Servlet – Java编写Web程序.Servlet 接口 .  ServletContext – 重要的类 ,描述当前Web项目.  Request &amp; Response – Request 客户端">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fantasylhd.github.io/2020/03/30/day35xml/day35XML%5C%E5%9B%BE1_WEB%E7%9F%A5%E8%AF%86%E6%9E%B6%E6%9E%84.jpg">
<meta property="og:image" content="https://fantasylhd.github.io/2020/03/30/day35xml/2.jpg">
<meta property="og:image" content="https://fantasylhd.github.io/2020/03/30/day35xml/3.jpg">
<meta property="article:published_time" content="2020-03-30T03:33:41.000Z">
<meta property="article:modified_time" content="2020-03-31T03:08:36.497Z">
<meta property="article:author" content="fantasy">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fantasylhd.github.io/2020/03/30/day35xml/day35XML%5C%E5%9B%BE1_WEB%E7%9F%A5%E8%AF%86%E6%9E%B6%E6%9E%84.jpg">
  
    <link rel="alternate" href="/atom.xml" title="fantasyblog" type="application/atom+xml">
  
  
    <link rel="icon" href="/images/default-avatar.jpg">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/highlight.css">

<meta name="generator" content="Hexo 4.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body>
  <div id="fullpage" class="mobile-nav-right">
    
      <div id="wrapper" title="图片来自网络">
    
    
      <header id="header">
  <div id="nav-toggle" class="nav-toggle"></div>
  <div class="head-box global-width">
    <nav class="nav-box nav-right">
      
        <a class="nav-item" href="/" title
        
        >首页</a>
      
        <a class="nav-item" href="/archives" title
        
        >归档</a>
      
    </nav>
  </div>
</header>
      <div id="middlecontent" title class="global-width sidebar-right">
        <section id="main"><article id="post-day35XML" class="article global-container article-type-post" itemscope itemprop="blogPost">
  
    <header class="article-header">
      
  
    <h1 class="article-title" itemprop="name">
      day35XML
    </h1>
  

    </header>
  
  <div class="article-meta">
    <a href="/2020/03/30/day35xml/" class="article-date">
  <time datetime="2020-03-30T03:33:41.000Z" itemprop="datePublished">2020-03-30</time>
</a>
    
    
  </div>
  
    <span id="busuanzi_container_page_pv">
      本文总阅读量<span id="busuanzi_value_page_pv"></span>次
    </span>
  

  <div class="article-inner">
    
    <div class="article-content article-content-cloud" itemprop="articleBody">
      
        <h1 id="day35XML"><a href="#day35XML" class="headerlink" title="day35XML"></a>day35XML</h1><h2 id="1-1-Web核心技术"><a href="#1-1-Web核心技术" class="headerlink" title="1.1 Web核心技术"></a>1.1 Web核心技术</h2><p><img src="/2020/03/30/day35xml/day35XML%5C%E5%9B%BE1_WEB%E7%9F%A5%E8%AF%86%E6%9E%B6%E6%9E%84.jpg" alt></p>
<ol>
<li>xml – 配置文件. </li>
<li>tomcat – 服务器. Web应用服务器 , 支持Java编写Web程序.  Http协议详解内容 /格式 . </li>
<li>Servlet – Java编写Web程序.Servlet 接口 . </li>
<li>ServletContext – 重要的类 ,描述当前Web项目. </li>
<li>Request &amp; Response – Request 客户端向 服务器发送的信息.   Response 服务器响应客户端的信息 . </li>
<li>JSP –  HTML 页面的升级版 . 嵌入Java代码 . </li>
<li>Cookie &amp; Session – Cookie 缓存, 客户端保存数据 . Session 会话 , 服务器保存数据. </li>
<li>El $ JSTL – 页面便捷取值方式 , JSP 简化版.  </li>
<li>综合案例 – 分页练习.  limit </li>
<li>Filter &amp; Listener  – 过滤器 和 监听器 . 与Servlet 并称为JavaWeb 三大组件. </li>
</ol>
<h2 id="1-2-概述"><a href="#1-2-概述" class="headerlink" title="1.2 概述"></a>1.2 概述</h2><p>XML ：可扩展标记语言（EXtensible Markup Language） </p>
<p>用来编写配置文件 , 对应一些类的配置信息.  </p>
<h2 id="1-3-创建模板"><a href="#1-3-创建模板" class="headerlink" title="1.3 创建模板"></a>1.3 创建模板</h2><p><img src="/2020/03/30/day35xml/2.jpg" alt></p>
<h2 id="1-4-基本语法"><a href="#1-4-基本语法" class="headerlink" title="1.4 基本语法"></a>1.4 基本语法</h2><h3 id="1-4-1-文档声明"><a href="#1-4-1-文档声明" class="headerlink" title="1.4.1 文档声明"></a>1.4.1 文档声明</h3><pre class=" language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> 
version : 1.0 版本
encoding : 编码UTF-8</code></pre>
<h3 id="1-4-2-元素"><a href="#1-4-2-元素" class="headerlink" title="1.4.2 元素"></a>1.4.2 元素</h3><p>&lt;开始标签&gt; 元素体  &lt;/结束标签&gt;</p>
<p>元素体 : 可以是标签,也可以是文本</p>
<h3 id="1-4-3-属性"><a href="#1-4-3-属性" class="headerlink" title="1.4.3 属性 :"></a>1.4.3 属性 :</h3><p>&lt;开始标签 属性名1= 属性值  属性名2=属性值&gt; </p>
<p>属性名不能重复, 多个属性 空格间隔开.  </p>
<h3 id="1-4-4-注释"><a href="#1-4-4-注释" class="headerlink" title="1.4.4 注释"></a>1.4.4 注释</h3><!-- 注释不解析 -->

<h3 id="1-4-5-转义"><a href="#1-4-5-转义" class="headerlink" title="1.4.5 转义"></a>1.4.5 转义</h3><pre class=" language-xml"><code class="language-xml">            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">></span></span> 3 <span class="token entity" title="&lt;">&amp;lt;</span> 5 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">></span></span>  &lt; 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">></span></span> 3 <span class="token entity" title="&gt;">&amp;gt;</span> 5 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">></span></span>   >
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">></span></span> 3 <span class="token entity" title="&amp;">&amp;amp;</span> 5 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">></span></span>  &amp;
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">></span></span> 3 <span class="token entity" title="&apos;">&amp;apos;</span> 5 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">></span></span> '
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>person</span><span class="token punctuation">></span></span> 3 <span class="token entity" title="&quot;">&amp;quot;</span> 5 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>person</span><span class="token punctuation">></span></span>  ""</code></pre>
<h3 id="1-4-6-CDATA"><a href="#1-4-6-CDATA" class="headerlink" title="1.4.6 CDATA"></a>1.4.6 CDATA</h3><p>其中可以编写大量文本, 无需转义. </p>
<pre class=" language-xml"><code class="language-xml"><span class="token cdata">&lt;![CDATA[
                    你可以编写任何文本内容, 无需转义 . 写什么就是什么
                    a &lt; b   "xx"
 ]]></span></code></pre>
<h2 id="1-5-约束"><a href="#1-5-约束" class="headerlink" title="1.5 约束"></a>1.5 约束</h2><p>编写xml的规范 .</p>
<h3 id="1-5-1-DTD约束"><a href="#1-5-1-DTD约束" class="headerlink" title="1.5.1 DTD约束"></a>1.5.1 DTD约束</h3><h4 id="什么是DTDDTD"><a href="#什么是DTDDTD" class="headerlink" title="什么是DTDDTD"></a>什么是DTDDTD</h4><p>Document Type Definition，文档类型定义，用来约束XML文档。规定XML文档中元素的名称，子元素的名称及顺序，元素的属性等。</p>
<h4 id="DTD重点要求"><a href="#DTD重点要求" class="headerlink" title="DTD重点要求"></a>DTD重点要求</h4><p>开发中，我们很少自己编写DTD约束文档，通常情况我们都是通过框架提供的DTD约束文档，编写对应的XML文档。常见框架使用DTD约束有：struts2、hibernate等。<br>通过提供的DTD“bean.dtd”编写XML</p>
<p>引入 </p>
<pre class=" language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- 引入了约束文件  bean.dtd --></span>
<span class="token doctype">&lt;!DOCTYPE beans SYSTEM "bean.dtd"></span></code></pre>
<h3 id="1-5-2-Schema约束"><a href="#1-5-2-Schema约束" class="headerlink" title="1.5.2 Schema约束"></a>1.5.2 Schema约束</h3><h4 id="什么是Schema"><a href="#什么是Schema" class="headerlink" title="什么是Schema"></a>什么是Schema</h4><p>Schema是新的XML文档约束； Schema要比DTD强大很多，是DTD 替代者； Schema本身也是XML文档，但Schema文档的扩展名为xsd，而不是xml。 Schema 功能更强大，数据类型更完善 Schema 支持名称空间</p>
<h4 id="Schema重点要求"><a href="#Schema重点要求" class="headerlink" title="Schema重点要求"></a>Schema重点要求</h4><p>与DTD一样，要求可以通过schema约束文档编写xml文档。常见框架使用schema的有：Spring等通过提供“bean-schema.xsd”编写xml文档</p>
<h4 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h4><h4 id="什么是命名空间"><a href="#什么是命名空间" class="headerlink" title="什么是命名空间"></a>什么是命名空间</h4><p>如果一个XML文档中使用多个Schema文件，而这些Schema文件中定义了相同名称的元素时就会出现名字冲突。这就像一个Java文件中使用了import java.util.和import java.sql.时，在使用Date类时，那么就不明确Date是哪个包下的Date了。</p>
<p>总之名称空间就是用来处理元素和属性的名称冲突问题，与Java中的包是同一用途。如果每个元素和属性都有自己的名称空间，那么就不会出现名字冲突问题，就像是每个类都有自己所在的包一样，那么类名就不会出现冲突。</p>
<h4 id="约束文档和xml关系"><a href="#约束文档和xml关系" class="headerlink" title="约束文档和xml关系"></a>约束文档和xml关系</h4><p>当W3C提出Schema约束规范时，就提供“官方约束文档”。我们通过官方文档，必须“自定义schema 约束文档”，开发中“自定义文档”由框架编写者提供。我们提供“自定义文档”限定，编写出自己的xml文档。</p>
<p><img src="/2020/03/30/day35xml/3.jpg" alt></p>
<p>引入 </p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.itcast.cn/bean<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.itcast.cn/bean bean-schema.xsd<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre>
<h2 id="1-6-XML解析"><a href="#1-6-XML解析" class="headerlink" title="1.6 XML解析"></a>1.6 XML解析</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>当将数据存储在XML后，我们就希望通过程序获得XML的内容。如果我们使用Java基础所学习的IO知识是可以完成的，不过你需要非常繁琐的操作才可以完成，且开发中会遇到不同问题（只读、读写）。人们为不同问题提供不同的解析方式，并提交对应的解析器，方便开发人员操作XML。</p>
<h3 id="常见的解析方式和解析器"><a href="#常见的解析方式和解析器" class="headerlink" title="常见的解析方式和解析器"></a>常见的解析方式和解析器</h3><ol>
<li><p>DOM：要求解析器把整个XML文档装载到内存，并解析成一个Document对象。</p>
</li>
<li><p>SAX：是一种速度更快，更有效的方法。它逐行扫描文档，一边扫描一边解析。并以事件驱动的方式进行具体解析，每执行一行，都将触发对应的事件。</p>
</li>
<li><p>PULL：Android内置的XML解析方式，类似SAX。</p>
</li>
</ol>
<h3 id="1-6-1-dom4j"><a href="#1-6-1-dom4j" class="headerlink" title="1.6.1 dom4j"></a>1.6.1 dom4j</h3><h4 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h4><p>DOM4J是一个Java的XML API，具有性能优异、功能强大和极其易使用的特点，它的性能超过sun公司官方的dom技术，如今可以看到越来越多的Java软件都在使用DOM4J来读写XML。<br>如果想要使用DOM4J，需要引入支持xpath的jar包 dom4j-1.6.1.jarDOM4J必须使用核心类SaxReader加载xml文档获得Document，通过Document对象获得文档的根元素，然后就<br>可以操作了</p>
<h4 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h4><ol>
<li><p>SaxReader对象</p>
<p> read(…) 加载执行xml文档</p>
</li>
<li><p>Document对象</p>
<p> getRootElement() 获得根元素</p>
</li>
<li><p>Element对象</p>
<p>elements(…) 获得指定名称的所有子元素。可以不指定名称</p>
<p>element(…) 获得指定名称第一个子元素。可以不指定名称</p>
<p>getName() 获得当前元素的元素名</p>
<p>attributeValue(…) 获得指定属性名的属性值</p>
<p>elementText(…) 获得指定名称子元素的文本值</p>
<p>getText() 获得当前元素的文本内容</p>
</li>
</ol>
<h4 id="案例实现"><a href="#案例实现" class="headerlink" title="案例实现"></a>案例实现</h4><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">></span>
<span class="token operator">&lt;</span>beans<span class="token operator">></span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"001"</span> className<span class="token operator">=</span><span class="token string">"cn.itcast.demo.User"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"jack"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"rose"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>

    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"002"</span> className<span class="token operator">=</span><span class="token string">"cn.itcast.demo.Admin"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"admin"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"write"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">></span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>

        <span class="token comment" spellcheck="true">// 创建 核心类 SAXReader</span>
        SAXReader saxReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SAXReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 读取配置文件</span>
        Document doc <span class="token operator">=</span> saxReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"web06_xml\\src\\beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment" spellcheck="true">// 获取根元素   -- 唯一的根元素.</span>
        Element root <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">getRootElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// &lt;beans></span>


        <span class="token comment" spellcheck="true">//  获取 bean 标签  , 返回element List 集合, 需要手动 转换成Element 类型 , 以便于 调用Element的方法</span>
        List<span class="token operator">&lt;</span>Element<span class="token operator">></span> elements <span class="token operator">=</span> root<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>Element element <span class="token operator">:</span> elements<span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment" spellcheck="true">// System.out.println(element.getName()); // &lt;bean></span>

            <span class="token comment" spellcheck="true">// 通过属性名 获取属性值 的   attributeValue(属性名)</span>
            String id <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String classname <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"className"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"id = "</span> <span class="token operator">+</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"classname = "</span> <span class="token operator">+</span> classname<span class="token punctuation">)</span><span class="token punctuation">;</span>

            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"================="</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// 继续解析子标签</span>
            List<span class="token operator">&lt;</span>Element<span class="token operator">></span> eles_prop <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// &lt;Property> 的 list</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>Element element2 <span class="token operator">:</span> eles_prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// element2 每个 property</span>
                String name <span class="token operator">=</span> element2<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                String value <span class="token operator">=</span> element2<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"name = "</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"value = "</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h3 id="1-6-2-Xpath"><a href="#1-6-2-Xpath" class="headerlink" title="1.6.2 Xpath"></a>1.6.2 Xpath</h3><ul>
<li>xPath 是一门在 XML、html 文档中查找信息的语言。</li>
<li>XPath 是一个 W3C 标准，可通过W3CSchool文档查阅语法</li>
</ul>
<p>由于DOM4J在解析XML时只能一层一层解析，所以当XML文件层数过多时使用会很不方便，结合XPATH就可以直接获取到某个元素</p>
<p>默认的情况下，dom4j不支持xpath，如果想要在dom4j里面使用xpath，需要引入支持xpath的jar包 jaxen-1.1.6.jar</p>
<p>在dom4j里面提供了两个方法，用来支持xpath</p>
<ol>
<li>List<Node> selectNodes(“xpath表达式”)，用来获取多个节点</Node></li>
<li>Node selectSingleNode(“xpath表达式”)，用来获取一个节点</li>
</ol>
<p>xpath表达式常用查询形式</p>
<ol>
<li><p>/AAA/DDD/BBB： 表示一层一层的，AAA下面 DDD下面的BBB</p>
</li>
<li><p>//BBB： 表示和这个名称相同，表示只要名称是BBB 都得到</p>
</li>
<li><p>/*: 所有元素</p>
</li>
<li><p>BBB[1]：表示第一个BBB元素  BBB[last()]：表示最后一个BBB元素</p>
</li>
<li><p>//BBB[@id]： 表示只要BBB元素上面有id属性 都得到</p>
</li>
<li><p>//BBB[@id=’b1’] 表示元素名称是BBB,在BBB上面有id属性，并且id的属性值是b1</p>
</li>
</ol>
<h4 id="案例实现-1"><a href="#案例实现-1" class="headerlink" title="案例实现"></a>案例实现</h4><pre class=" language-java"><code class="language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">></span>
<span class="token operator">&lt;</span>beans<span class="token operator">></span>
<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"001"</span> className<span class="token operator">=</span><span class="token string">"cn.itcast.demo.User"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"jack"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"rose"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>

<span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"002"</span> className<span class="token operator">=</span><span class="token string">"cn.itcast.demo.Admin"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"admin"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"user"</span> value<span class="token operator">=</span><span class="token string">"write"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>property<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">></span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo01</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
          <span class="token comment" spellcheck="true">// 创建 SAXReader</span>
        SAXReader saxReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SAXReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 读取</span>
        Document document <span class="token operator">=</span> saxReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"web06_xml\\src\\beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 获取所有bean</span>
<span class="token comment" spellcheck="true">//        List list = document.selectNodes("//bean");</span>
<span class="token comment" spellcheck="true">//        System.out.println(list.size());</span>
        <span class="token comment" spellcheck="true">// 获取所有的 Property</span>
        List<span class="token operator">&lt;</span>Element<span class="token operator">></span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">selectNodes</span><span class="token punctuation">(</span><span class="token string">"//property"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// System.out.println(list.size());</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>Element element <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment" spellcheck="true">//            System.out.println(element.getName());</span>

            String value <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo02</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 创建 SAXReader</span>
        SAXReader saxReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SAXReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 读取, 获取doc</span>
        Document doc <span class="token operator">=</span> saxReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"web06_xml\\src\\beans.xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 获取指定id 的元素 , 返回的Node 转换成 Element</span>
         Element ele <span class="token operator">=</span> <span class="token punctuation">(</span>Element<span class="token punctuation">)</span> doc<span class="token punctuation">.</span><span class="token function">selectSingleNode</span><span class="token punctuation">(</span><span class="token string">"//bean[@id='002']"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ele<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">"className"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>

      
    </div>
    
      <footer class="article-footer">
        完
      </footer>
    
  </div>
  
    
<nav id="article-nav">
  <div class="article-nav-block">
    
      <a href="/2020/03/31/day36tomcat-http-xie-yi/" id="article-nav-newer" class="article-nav-link-wrap">
        <strong class="article-nav-caption"></strong>
        <div class="article-nav-title">
          
            day36Tomcat&amp;Servlet入门
          
        </div>
      </a>
    
  </div>
  <div class="article-nav-block">
    
      <a href="/2020/03/29/day34bootstrap/" id="article-nav-older" class="article-nav-link-wrap">
        <div class="article-nav-title">day34BootStrap</div>
        <strong class="article-nav-caption"></strong>
      </a>
    
  </div>
</nav>

    <link rel="stylesheet" href="/css/gitment.css"> 
<script src="/js/gitment.js"></script>

<div id="gitmentContainer"></div>

<script>
var gitment = new Gitment({
  owner: '',
  repo: '',
  oauth: {
    client_id: '',
    client_secret: '',
  },
})
gitment.render('gitmentContainer')
</script>

  
  
</article>
</section>
        <aside id="sidebar">
  
    <div class="widget-box">
  <div class="avatar-box">
    <img class="avatar" src="/images/default-avatar.jpg" title="图片来自网络"></img>
    <h3 class="avatar-name">
      
        清风伴酒
      
    </h3>
    <p class="avatar-slogan">
      进击的后端渣渣
    </p>
  </div>
</div>


  
    
  <div class="widget-box">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/javaSE/">javaSE</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-box">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">编程语言</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-box">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">编程语言</a>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li></ul>
    </div>
  </div>

  
    
  <div class="widget-box">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/12/day47-maven/">day46_maven</a>
          </li>
        
          <li>
            <a href="/2020/04/12/gong-han-mo-shi/">day46_maven</a>
          </li>
        
          <li>
            <a href="/2020/04/12/day46-redis/">day46_redis</a>
          </li>
        
          <li>
            <a href="/2020/04/12/day45-ajax-json/">day45-AJAX-Json</a>
          </li>
        
          <li>
            <a href="/2020/04/12/day44jquery-gao-ji/">day44jQuery高级</a>
          </li>
        
      </ul>
    </div>
  </div>

  
      <div class="widget-box">
    <h3 class="widget-title">友链</h3>
    <div class="widget">
      
        <a style="display: block;" href="https://yiluyanxia.github.io/" title target='_blank'
        >一路眼瞎</a>
      
    </div>
  </div>

  
</aside>
      </div>
      <footer id="footer">
  <div class="foot-box global-width">
    &copy; 2020 fantasy &nbsp;&nbsp;
    驱动于 <a href="http://hexo.io/" target="_blank">Hexo</a>
    &nbsp;|&nbsp;主题 <a href="https://github.com/yiluyanxia/hexo-theme-antiquity" target="_blank" rel="noopener">antiquity</a>
    <br>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span id="busuanzi_container_site_pv">不蒜子告之   阁下是第<span id="busuanzi_value_site_pv"></span>个访客</span>
  </div>
</footer>
      <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
<script>
if (!window.jQuery) {
var script = document.createElement('script');
script.src = "/js/jquery-2.0.3.min.js";
document.body.write(script);
}
</script>

  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




    </div>
    <nav id="mobile-nav" class="mobile-nav-box">
  <div class="mobile-nav-img mobile-nav-top"></div>
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
  <div class="mobile-nav-img  mobile-nav-bottom"></div>
</nav>    
  </div>
</body>
</html>